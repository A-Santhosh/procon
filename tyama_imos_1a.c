int z[21]={1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576};
int q[2097152],p[155611];
main(i,b,c,d){
  for(c=0,i=2;i<2097152;i++)
    if(!q[i])
      for(p[c++]=b=i;b<2097152;b+=i)
        q[b]=1;
  for(;scanf("%d%d%d",&b,&c,&d),b;printf("%d\n",p[i]))
    for(i=0;i<155611;i++)
      if((p[i]*(long long)b)%z[d]==c)break;
}